[gd_resource type="VisualShader" load_steps=48 format=3 uid="uid://dadtbq4ym2chm"]

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_7oou3"]
expanded_output_ports = [0]
input_name = "light0_direction"

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_olahb"]
input_name = "eyedir"

[sub_resource type="VisualShaderNodeVectorDistance" id="VisualShaderNodeVectorDistance_b0d27"]

[sub_resource type="VisualShaderNodeFloatFunc" id="VisualShaderNodeFloatFunc_tplie"]
function = 31

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_wmwy3"]
default_input_values = [0, 0.0, 1, 2.0]
operator = 3

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_uviu5"]
default_input_values = [0, 0.0, 1, 0.2]
operator = 3

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_kk731"]

[sub_resource type="VisualShaderNodeClamp" id="VisualShaderNodeClamp_4iiq8"]

[sub_resource type="VisualShaderNodeClamp" id="VisualShaderNodeClamp_ne1nx"]
default_input_values = [0, Vector3(0, 0, 0), 1, Vector3(0, 0, 0), 2, Vector3(1, 1, 1)]
expanded_output_ports = [0]
op_type = 4

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_1cxbi"]
input_name = "light0_color"

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_sim4j"]
operator = 2

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_e7xig"]
input_name = "eyedir"

[sub_resource type="VisualShaderNodeVectorDistance" id="VisualShaderNodeVectorDistance_1gjcy"]

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_ldbgf"]
default_input_values = [0, 0.0, 1, 0.1]
operator = 3

[sub_resource type="VisualShaderNodeFloatFunc" id="VisualShaderNodeFloatFunc_c5eds"]
function = 31

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_c41uh"]
operator = 2

[sub_resource type="VisualShaderNodeClamp" id="VisualShaderNodeClamp_bat4y"]

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_bhatb"]
default_input_values = [0, 0.0, 1, 0.13]
operator = 3

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_rds64"]
expanded_output_ports = [0]
input_name = "light1_direction"

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_uxr73"]
input_name = "light1_color"

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_e11o6"]

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_a1p5l"]
operator = 2

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_tjhoh"]
constant = 0.05

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_mtlpv"]
input_name = "sky_coords"

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_1wxfl"]
parameter_name = "sun_rise_gradient"
texture_type = 1

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_3ot8f"]
source = 5

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_gsfn4"]
expanded_output_ports = [0]
input_name = "eyedir"

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_yncca"]
expanded_output_ports = [0]
input_name = "light0_direction"

[sub_resource type="VisualShaderNodeFloatFunc" id="VisualShaderNodeFloatFunc_kjd80"]
function = 12

[sub_resource type="VisualShaderNodeMix" id="VisualShaderNodeMix_ksvka"]
default_input_values = [0, Vector3(0, 0, 0), 1, Vector3(1, 1, 1), 2, Vector3(0.5, 0.5, 0.5)]
op_type = 3

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_8u1pc"]
source = 5

[sub_resource type="VisualShaderNodeFloatFunc" id="VisualShaderNodeFloatFunc_rrpxv"]
function = 12

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_qcrwe"]
default_input_values = [0, 0.0, 1, 1.0]
operator = 2

[sub_resource type="VisualShaderNodeFloatFunc" id="VisualShaderNodeFloatFunc_ijome"]
function = 31

[sub_resource type="VisualShaderNodeClamp" id="VisualShaderNodeClamp_3ehvo"]

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_qpsrs"]
default_input_values = [0, Vector3(1, 1, 1), 1, Vector3(0, 0, 0)]
operator = 2

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_rvunu"]
expanded_output_ports = [0]
input_name = "light0_direction"

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_y1vp3"]
parameter_name = "Texture2DParameter"

[sub_resource type="VisualShaderNodeClamp" id="VisualShaderNodeClamp_jviwe"]
default_input_values = [0, 0.0, 1, -0.25, 2, 1.0]

[sub_resource type="VisualShaderNodeRemap" id="VisualShaderNodeRemap_yokdh"]
default_input_values = [1, -0.25, 2, 1.0, 3, 0.0, 4, 1.0]

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_8u6di"]
parameter_name = "moon_size"
hint = 1
min = 0.01
max = 0.1

[sub_resource type="VisualShaderNodeFloatFunc" id="VisualShaderNodeFloatFunc_yik50"]
function = 31

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_iuupb"]
default_input_values = [0, 0.0, 1, 1.7]
operator = 2

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_cv2mt"]
default_input_values = [0, 0.0, 1, 0.5]
operator = 2

[sub_resource type="VisualShaderNodeRemap" id="VisualShaderNodeRemap_ayg8v"]
default_input_values = [1, -0.1, 2, 1.0, 3, 0.05, 4, 2.0]

[sub_resource type="VisualShaderNodeClamp" id="VisualShaderNodeClamp_s53ad"]
default_input_values = [0, 0.0, 1, -0.1, 2, 1.0]

[sub_resource type="VisualShaderNodeClamp" id="VisualShaderNodeClamp_4d38l"]
default_input_values = [0, 0.0, 1, 0.01, 2, 0.99]

[resource]
code = "shader_type sky;
uniform sampler2D Texture2DParameter;
uniform sampler2D sun_rise_gradient : source_color;
uniform float moon_size : hint_range(0.00999999977648, 0.10000000149012);



void sky() {
// Input:26
	vec3 n_out26p0 = LIGHT0_COLOR;


// Input:13
	vec3 n_out13p0 = LIGHT0_DIRECTION;


// Input:17
	vec3 n_out17p0 = EYEDIR;


// Distance:19
	float n_out19p0 = distance(n_out13p0, n_out17p0);


// FloatOp:22
	float n_in22p1 = 0.20000;
	float n_out22p0 = n_out19p0 / n_in22p1;


// FloatFunc:20
	float n_out20p0 = 1.0 - n_out22p0;


// Input:59
	vec3 n_out59p0 = LIGHT0_DIRECTION;
	float n_out59p2 = n_out59p0.g;


// Clamp:68
	float n_in68p1 = -0.10000;
	float n_in68p2 = 1.00000;
	float n_out68p0 = clamp(n_out59p2, n_in68p1, n_in68p2);


	float n_out67p0;
// Remap:67
	float n_in67p1 = -0.10000;
	float n_in67p2 = 1.00000;
	float n_in67p3 = 0.05000;
	float n_in67p4 = 2.00000;
	{
		float __input_range = n_in67p2 - n_in67p1;
		float __output_range = n_in67p4 - n_in67p3;
		n_out67p0 = n_in67p3 + __output_range * ((n_out68p0 - n_in67p1) / __input_range);
	}


// FloatOp:21
	float n_out21p0 = n_out20p0 / n_out67p0;


// Clamp:24
	float n_in24p1 = 0.00000;
	float n_in24p2 = 1.00000;
	float n_out24p0 = clamp(n_out21p0, n_in24p1, n_in24p2);


// VectorOp:27
	vec3 n_out27p0 = n_out26p0 * vec3(n_out24p0);


// Clamp:60
	float n_in60p1 = -0.25000;
	float n_in60p2 = 1.00000;
	float n_out60p0 = clamp(n_out59p2, n_in60p1, n_in60p2);


	float n_out62p0;
// Remap:62
	float n_in62p1 = -0.25000;
	float n_in62p2 = 1.00000;
	float n_in62p3 = 0.00000;
	float n_in62p4 = 1.00000;
	{
		float __input_range = n_in62p2 - n_in62p1;
		float __output_range = n_in62p4 - n_in62p3;
		n_out62p0 = n_in62p3 + __output_range * ((n_out60p0 - n_in62p1) / __input_range);
	}


// Input:4
	vec2 n_out4p0 = SKY_COORDS;


	vec4 n_out5p0;
// Texture2D:5
	n_out5p0 = texture(Texture2DParameter, n_out4p0);


// Input:46
	vec3 n_out46p0 = LIGHT0_DIRECTION;
	float n_out46p2 = n_out46p0.g;


// FloatFunc:47
	float n_out47p0 = abs(n_out46p2);


// Clamp:69
	float n_in69p1 = 0.01000;
	float n_in69p2 = 0.99000;
	float n_out69p0 = clamp(n_out47p0, n_in69p1, n_in69p2);


	vec4 n_out41p0;
// Texture2D:41
	n_out41p0 = texture(sun_rise_gradient, vec2(n_out69p0));


// FloatOp:66
	float n_in66p1 = 0.50000;
	float n_out66p0 = n_out19p0 * n_in66p1;


// FloatFunc:64
	float n_out64p0 = 1.0 - n_out66p0;


// FloatOp:65
	float n_in65p1 = 1.70000;
	float n_out65p0 = n_out64p0 * n_in65p1;


// Input:42
	vec3 n_out42p0 = EYEDIR;
	float n_out42p2 = n_out42p0.g;


// FloatFunc:50
	float n_out50p0 = abs(n_out42p2);


// FloatFunc:53
	float n_out53p0 = 1.0 - n_out50p0;


// FloatOp:52
	float n_out52p0 = n_out65p0 * n_out53p0;


// Clamp:55
	float n_in55p1 = 0.00000;
	float n_in55p2 = 1.00000;
	float n_out55p0 = clamp(n_out52p0, n_in55p1, n_in55p2);


// Mix:49
	vec3 n_out49p0 = mix(vec3(n_out5p0.xyz), vec3(n_out41p0.xyz), vec3(n_out55p0));


// VectorOp:58
	vec3 n_out58p0 = vec3(n_out62p0) * n_out49p0;


// VectorOp:23
	vec3 n_out23p0 = n_out27p0 + n_out58p0;


// Input:36
	vec3 n_out36p0 = LIGHT1_COLOR;


// Input:35
	vec3 n_out35p0 = LIGHT1_DIRECTION;


// Input:28
	vec3 n_out28p0 = EYEDIR;


// Distance:29
	float n_out29p0 = distance(n_out35p0, n_out28p0);


// FloatParameter:63
	float n_out63p0 = moon_size;


// FloatOp:34
	float n_out34p0 = n_out29p0 / n_out63p0;


// FloatFunc:31
	float n_out31p0 = 1.0 - n_out34p0;


// FloatOp:30
	float n_in30p1 = 0.10000;
	float n_out30p0 = n_out31p0 / n_in30p1;


// Clamp:33
	float n_in33p1 = 0.00000;
	float n_in33p2 = 1.00000;
	float n_out33p0 = clamp(n_out30p0, n_in33p1, n_in33p2);


// VectorOp:32
	vec3 n_out32p0 = n_out36p0 * vec3(n_out33p0);


// FloatConstant:39
	float n_out39p0 = 0.050000;


// VectorOp:38
	vec3 n_out38p0 = n_out32p0 * vec3(n_out39p0);


// VectorOp:37
	vec3 n_out37p0 = n_out23p0 + n_out38p0;


// Clamp:25
	vec3 n_in25p1 = vec3(0.00000, 0.00000, 0.00000);
	vec3 n_in25p2 = vec3(1.00000, 1.00000, 1.00000);
	vec3 n_out25p0 = clamp(n_out37p0, n_in25p1, n_in25p2);


// Output:0
	COLOR = n_out25p0;


}
"
mode = 3
flags/use_half_res_pass = false
flags/use_quarter_res_pass = false
flags/disable_fog = false
flags/use_debanding = false
nodes/sky/0/position = Vector2(4080, -420)
nodes/sky/4/node = SubResource("VisualShaderNodeInput_mtlpv")
nodes/sky/4/position = Vector2(-560, -480)
nodes/sky/5/node = SubResource("VisualShaderNodeTexture_8u1pc")
nodes/sky/5/position = Vector2(160, -440)
nodes/sky/6/node = SubResource("VisualShaderNodeTexture2DParameter_y1vp3")
nodes/sky/6/position = Vector2(-1420, -800)
nodes/sky/13/node = SubResource("VisualShaderNodeInput_7oou3")
nodes/sky/13/position = Vector2(-1200, -1540)
nodes/sky/17/node = SubResource("VisualShaderNodeInput_olahb")
nodes/sky/17/position = Vector2(-1200, -1220)
nodes/sky/19/node = SubResource("VisualShaderNodeVectorDistance_b0d27")
nodes/sky/19/position = Vector2(-600, -1320)
nodes/sky/20/node = SubResource("VisualShaderNodeFloatFunc_tplie")
nodes/sky/20/position = Vector2(40, -1480)
nodes/sky/21/node = SubResource("VisualShaderNodeFloatOp_wmwy3")
nodes/sky/21/position = Vector2(820, -1320)
nodes/sky/22/node = SubResource("VisualShaderNodeFloatOp_uviu5")
nodes/sky/22/position = Vector2(-240, -1320)
nodes/sky/23/node = SubResource("VisualShaderNodeVectorOp_kk731")
nodes/sky/23/position = Vector2(1960, -580)
nodes/sky/24/node = SubResource("VisualShaderNodeClamp_4iiq8")
nodes/sky/24/position = Vector2(1180, -1260)
nodes/sky/25/node = SubResource("VisualShaderNodeClamp_ne1nx")
nodes/sky/25/position = Vector2(2840, -520)
nodes/sky/26/node = SubResource("VisualShaderNodeInput_1cxbi")
nodes/sky/26/position = Vector2(900, -1560)
nodes/sky/27/node = SubResource("VisualShaderNodeVectorOp_sim4j")
nodes/sky/27/position = Vector2(1580, -1420)
nodes/sky/28/node = SubResource("VisualShaderNodeInput_e7xig")
nodes/sky/28/position = Vector2(-1380, 1680)
nodes/sky/29/node = SubResource("VisualShaderNodeVectorDistance_1gjcy")
nodes/sky/29/position = Vector2(-780, 1580)
nodes/sky/30/node = SubResource("VisualShaderNodeFloatOp_ldbgf")
nodes/sky/30/position = Vector2(340, 1580)
nodes/sky/31/node = SubResource("VisualShaderNodeFloatFunc_c5eds")
nodes/sky/31/position = Vector2(-60, 1640)
nodes/sky/32/node = SubResource("VisualShaderNodeVectorOp_c41uh")
nodes/sky/32/position = Vector2(1200, 1460)
nodes/sky/33/node = SubResource("VisualShaderNodeClamp_bat4y")
nodes/sky/33/position = Vector2(700, 1640)
nodes/sky/34/node = SubResource("VisualShaderNodeFloatOp_bhatb")
nodes/sky/34/position = Vector2(-420, 1580)
nodes/sky/35/node = SubResource("VisualShaderNodeInput_rds64")
nodes/sky/35/position = Vector2(-1380, 1360)
nodes/sky/36/node = SubResource("VisualShaderNodeInput_uxr73")
nodes/sky/36/position = Vector2(420, 1340)
nodes/sky/37/node = SubResource("VisualShaderNodeVectorOp_e11o6")
nodes/sky/37/position = Vector2(2300, -540)
nodes/sky/38/node = SubResource("VisualShaderNodeVectorOp_a1p5l")
nodes/sky/38/position = Vector2(1700, 1280)
nodes/sky/39/node = SubResource("VisualShaderNodeFloatConstant_tjhoh")
nodes/sky/39/position = Vector2(1240, 1860)
nodes/sky/40/node = SubResource("VisualShaderNodeTexture2DParameter_1wxfl")
nodes/sky/40/position = Vector2(-1040, 40)
nodes/sky/41/node = SubResource("VisualShaderNodeTexture_3ot8f")
nodes/sky/41/position = Vector2(200, -80)
nodes/sky/42/node = SubResource("VisualShaderNodeInput_gsfn4")
nodes/sky/42/position = Vector2(-1120, 700)
nodes/sky/46/node = SubResource("VisualShaderNodeInput_yncca")
nodes/sky/46/position = Vector2(-1600, -200)
nodes/sky/47/node = SubResource("VisualShaderNodeFloatFunc_kjd80")
nodes/sky/47/position = Vector2(-880, -160)
nodes/sky/49/node = SubResource("VisualShaderNodeMix_ksvka")
nodes/sky/49/position = Vector2(1000, -280)
nodes/sky/50/node = SubResource("VisualShaderNodeFloatFunc_rrpxv")
nodes/sky/50/position = Vector2(-460, 720)
nodes/sky/52/node = SubResource("VisualShaderNodeFloatOp_qcrwe")
nodes/sky/52/position = Vector2(780, 440)
nodes/sky/53/node = SubResource("VisualShaderNodeFloatFunc_ijome")
nodes/sky/53/position = Vector2(-100, 720)
nodes/sky/55/node = SubResource("VisualShaderNodeClamp_3ehvo")
nodes/sky/55/position = Vector2(1300, 280)
nodes/sky/58/node = SubResource("VisualShaderNodeVectorOp_qpsrs")
nodes/sky/58/position = Vector2(1500, -540)
nodes/sky/59/node = SubResource("VisualShaderNodeInput_rvunu")
nodes/sky/59/position = Vector2(-440, -980)
nodes/sky/60/node = SubResource("VisualShaderNodeClamp_jviwe")
nodes/sky/60/position = Vector2(120, -800)
nodes/sky/62/node = SubResource("VisualShaderNodeRemap_yokdh")
nodes/sky/62/position = Vector2(540, -700)
nodes/sky/63/node = SubResource("VisualShaderNodeFloatParameter_8u6di")
nodes/sky/63/position = Vector2(-1280, 1940)
nodes/sky/64/node = SubResource("VisualShaderNodeFloatFunc_yik50")
nodes/sky/64/position = Vector2(200, 260)
nodes/sky/65/node = SubResource("VisualShaderNodeFloatOp_iuupb")
nodes/sky/65/position = Vector2(600, 180)
nodes/sky/66/node = SubResource("VisualShaderNodeFloatOp_cv2mt")
nodes/sky/66/position = Vector2(-160, 380)
nodes/sky/67/node = SubResource("VisualShaderNodeRemap_ayg8v")
nodes/sky/67/position = Vector2(480, -1120)
nodes/sky/68/node = SubResource("VisualShaderNodeClamp_s53ad")
nodes/sky/68/position = Vector2(100, -1080)
nodes/sky/69/node = SubResource("VisualShaderNodeClamp_4d38l")
nodes/sky/69/position = Vector2(-400, -120)
nodes/sky/connections = PackedInt32Array(4, 0, 5, 0, 6, 0, 5, 2, 17, 0, 19, 1, 13, 0, 19, 0, 20, 0, 21, 0, 19, 0, 22, 0, 22, 0, 20, 0, 21, 0, 24, 0, 26, 0, 27, 0, 24, 0, 27, 1, 27, 0, 23, 0, 28, 0, 29, 1, 35, 0, 29, 0, 31, 0, 30, 0, 29, 0, 34, 0, 34, 0, 31, 0, 36, 0, 32, 0, 23, 0, 37, 0, 37, 0, 25, 0, 30, 0, 33, 0, 33, 0, 32, 1, 38, 0, 37, 1, 32, 0, 38, 0, 39, 0, 38, 1, 46, 2, 47, 0, 42, 2, 50, 0, 50, 0, 53, 0, 59, 2, 60, 0, 60, 0, 62, 0, 41, 0, 49, 1, 58, 0, 23, 1, 63, 0, 34, 1, 64, 0, 65, 0, 65, 0, 52, 0, 52, 0, 55, 0, 53, 0, 52, 1, 19, 0, 66, 0, 66, 0, 64, 0, 67, 0, 21, 1, 59, 2, 68, 0, 68, 0, 67, 0, 49, 0, 58, 1, 40, 0, 41, 2, 25, 0, 0, 0, 47, 0, 69, 0, 69, 0, 41, 0, 5, 0, 49, 0, 55, 0, 49, 2, 62, 0, 58, 0)
